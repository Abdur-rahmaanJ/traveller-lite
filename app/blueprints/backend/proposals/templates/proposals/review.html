{% extends 'global/extends/backend.html' %}

{% block title %}
    Review Proposals
{% endblock %}


{% block breadcrumbs %}
    {{ breadcrumber([("Proposals to Review", None)]) }}
{% endblock %}

{% block content %}
    <div class="content-box m-down-4" x-data="review">

        {% for talk in talks %}
            <div class="attention-content">
                <div class="top-stats">
                    <div><strong>Status:</strong> {{ talk.talk_status }}</div>
                    <div><strong>Year:</strong> {{ talk.year }}</div>
                    <div><strong>Your Vote:</strong>
                        {% set your_voting_position_on_this =
                        talk.get_voting_position_using_account_id(session.get('account_id')) %}
                        {% if your_voting_position_on_this == True %}
                            For <span class="vote-for"></span>
                        {% elif your_voting_position_on_this == False %}
                            Against <span class="vote-against"></span>
                        {% else %}
                            Abstain <span class="vote-abstained"></span>
                        {% endif %}
                    </div>
                    <div><strong>Votes:</strong>
                        For - {{ talk.votes.for }} | Against - {{ talk.votes.against }}
                    </div>
                </div>

                <h1 class="m-up-down-1">{{ talk.title }}</h1>

                <a class="button button-primary m-up-1"
                   href="{{ url_for('proposals.review_talk', talk_id=talk.talk_id) }}">View</a>

            </div>
        {% endfor %}

    </div>
{% endblock %}

{% block js %}
    {% include 'proposals/js/review-x-data.html' %}
{% endblock %}
